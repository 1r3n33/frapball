#include "graphics.h"
#include <gb/gb.h>

const unsigned char symbols[] = {
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x52,0x7E, // 0 @128
  0x4A,0x7E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x08,0x08,0x14,0x1C,0x24,0x3C,0x54,0x7C, // 1 @129
  0x34,0x3C,0x34,0x3C,0x42,0x7E,0x3C,0x3C,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x3A,0x3E, // 2 @130
  0x14,0x1C,0x2C,0x3C,0x42,0x7E,0x3C,0x3C,
  0x38,0x38,0x44,0x7C,0x3A,0x3E,0x24,0x3C, // 3 @131
  0x1A,0x1E,0x3A,0x3E,0x44,0x7C,0x38,0x38,
  0x08,0x08,0x14,0x1C,0x28,0x38,0x5C,0x7C, // 4 @132
  0x42,0x7E,0x34,0x3C,0x14,0x1C,0x08,0x08,
  0x3C,0x3C,0x42,0x7E,0x5C,0x7C,0x44,0x7C, // 5 @133
  0x3A,0x3E,0x3A,0x3E,0x44,0x7C,0x38,0x38,
  0x0C,0x0C,0x12,0x1E,0x2C,0x3C,0x58,0x78, // 6 @134
  0x44,0x7C,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x3C,0x3C,0x42,0x7E,0x3A,0x3E,0x14,0x1C, // 7 @135
  0x14,0x1C,0x28,0x38,0x28,0x38,0x10,0x10,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x24,0x3C, // 8 @136
  0x5A,0x7E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x22,0x3E, // 9 @137
  0x1A,0x1E,0x34,0x3C,0x48,0x78,0x30,0x30,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x3A,0x3E, // a @138
  0x22,0x3E,0x5A,0x7E,0x22,0x3E,0x1C,0x1C,
  0x20,0x20,0x50,0x70,0x58,0x78,0x44,0x7C, // b @139
  0x5A,0x7E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x00,0x00,0x1C,0x1C,0x22,0x3E,0x5C,0x7C, // c @140
  0x50,0x70,0x5C,0x7C,0x22,0x3E,0x1C,0x1C,
  0x04,0x04,0x0A,0x0E,0x1A,0x1E,0x22,0x3E, // d @141
  0x5A,0x7E,0x5A,0x7E,0x22,0x3E,0x1C,0x1C,
  0x00,0x00,0x18,0x18,0x24,0x3C,0x5A,0x7E, // e @142
  0x44,0x7C,0x5C,0x7C,0x22,0x3E,0x1C,0x1C,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x5C,0x7C, // f @143
  0x44,0x7C,0x58,0x78,0x50,0x70,0x20,0x20,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x5A,0x7E, // g @144
  0x22,0x3E,0x1A,0x1E,0x24,0x3C,0x18,0x18,
  0x20,0x20,0x50,0x70,0x58,0x78,0x44,0x7C, // h @145
  0x5A,0x7E,0x5A,0x7E,0x5A,0x7E,0x24,0x24,
  0x08,0x08,0x14,0x1C,0x08,0x08,0x14,0x1C, // i @146
  0x14,0x1C,0x14,0x1C,0x14,0x1C,0x08,0x08,
  0x04,0x04,0x0A,0x0E,0x0A,0x0E,0x0A,0x0E, // j @147
  0x2A,0x2E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x20,0x20,0x50,0x70,0x58,0x78,0x54,0x7C, // k @148
  0x48,0x78,0x54,0x7C,0x5A,0x7E,0x24,0x24,
  0x10,0x10,0x28,0x38,0x28,0x38,0x28,0x38, // l @149
  0x28,0x38,0x28,0x38,0x24,0x3C,0x18,0x18,
  0x00,0x00,0x44,0x44,0xAA,0xEE,0x92,0xFE, // m @150
  0xAA,0xFE,0xBA,0xFE,0xAA,0xEE,0x44,0x44,
  0x00,0x00,0x28,0x28,0x54,0x7C,0x4A,0x7E, // n @151 
  0x5A,0x7E,0x5A,0x7E,0x5A,0x7E,0x24,0x24,
  0x18,0x18,0x24,0x3C,0x5A,0x7E,0x5A,0x7E, // o @152
  0x5A,0x7E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x38,0x38,0x44,0x7C,0x5A,0x7E,0x5A,0x7E, // p @153
  0x44,0x7C,0x58,0x78,0x50,0x70,0x20,0x20,
  0x1C,0x1C,0x22,0x3E,0x5A,0x7E,0x5A,0x7E, // q @154
  0x22,0x3E,0x1A,0x1E,0x0A,0x0E,0x04,0x04,
  0x28,0x28,0x54,0x7C,0x4A,0x7E,0x54,0x74, // r @155
  0x50,0x70,0x50,0x70,0x50,0x70,0x20,0x20,
  0x18,0x18,0x24,0x3C,0x58,0x78,0x24,0x3C, // s @156
  0x3A,0x3E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x20,0x20,0x50,0x70,0x58,0x78,0x44,0x7C, // t @157
  0x5C,0x7C,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x00,0x00,0x24,0x24,0x5A,0x7E,0x5A,0x7E, // u @158
  0x5A,0x7E,0x5A,0x7E,0x24,0x3C,0x18,0x18,
  0x00,0x00,0x36,0x36,0x55,0x77,0x55,0x77, // v @159
  0x55,0x77,0x2A,0x3E,0x14,0x1C,0x08,0x08,
  0x00,0x00,0x22,0x22,0x55,0x77,0x5D,0x7F, // w @160
  0x55,0x7F,0x49,0x7F,0x55,0x77,0x22,0x22,
  0x00,0x00,0x22,0x22,0x55,0x77,0x2A,0x3E, // x @161
  0x14,0x1C,0x2A,0x3E,0x55,0x77,0x22,0x22,
  0x24,0x24,0x5A,0x7E,0x5A,0x7E,0x5A,0x7E, // y @162
  0x22,0x3E,0x3A,0x3E,0x42,0x7E,0x3C,0x3C,
  0x00,0x00,0x3E,0x3E,0x41,0x7F,0x3A,0x3E, // z @163
  0x14,0x1C,0x2E,0x3E,0x41,0x7F,0x3E,0x3E,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //   @164
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18, // - @165
  0x24,0x3C,0x18,0x18,0x00,0x00,0x00,0x00,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x7E,0x52, // 0 alt @166
  0x7E,0x4A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x08,0x08,0x1C,0x14,0x3C,0x24,0x7C,0x54, // 1 alt @167
  0x3C,0x34,0x3C,0x34,0x7E,0x42,0x3C,0x3C,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x3E,0x3A, // 2 alt @168
  0x1C,0x14,0x3C,0x2C,0x7E,0x42,0x3C,0x3C,
  0x38,0x38,0x7C,0x44,0x3E,0x3A,0x3C,0x24, // 3 alt @169
  0x1E,0x1A,0x3E,0x3A,0x7C,0x44,0x38,0x38,
  0x08,0x08,0x1C,0x14,0x38,0x28,0x7C,0x5C, // 4 alt @170
  0x7E,0x42,0x3C,0x34,0x1C,0x14,0x08,0x08,
  0x3C,0x3C,0x7E,0x42,0x7C,0x5C,0x7C,0x44, // 5 alt @171
  0x3E,0x3A,0x3E,0x3A,0x7C,0x44,0x38,0x38,
  0x0C,0x0C,0x1E,0x12,0x3C,0x2C,0x78,0x58, // 6 alt @172
  0x7C,0x44,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x3C,0x3C,0x7E,0x42,0x3E,0x3A,0x1C,0x14, // 7 alt @173
  0x1C,0x14,0x38,0x28,0x38,0x28,0x10,0x10,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x3C,0x24, // 8 alt @174
  0x7E,0x5A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x3E,0x22, // 9 alt @175
  0x1E,0x1A,0x3C,0x34,0x78,0x48,0x30,0x30,
  0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18, // - alt @176
  0x3C,0x24,0x18,0x18,0x00,0x00,0x00,0x00,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x3E,0x3A, // a alt @177
  0x3E,0x22,0x7E,0x5A,0x3E,0x22,0x1C,0x1C,
  0x20,0x20,0x70,0x50,0x78,0x58,0x7C,0x44, // b alt @178
  0x7E,0x5A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x00,0x00,0x1C,0x1C,0x3E,0x22,0x7C,0x5C, // c alt @179
  0x70,0x50,0x7C,0x5C,0x3E,0x22,0x1C,0x1C,
  0x04,0x04,0x0E,0x0A,0x1E,0x1A,0x3E,0x22, // d alt @180
  0x7E,0x5A,0x7E,0x5A,0x3E,0x22,0x1C,0x1C,
  0x00,0x00,0x18,0x18,0x3C,0x24,0x7E,0x5A, // e alt @181
  0x7C,0x44,0x7C,0x5C,0x3E,0x22,0x1C,0x1C,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x7C,0x5C, // f alt @182
  0x7C,0x44,0x78,0x58,0x70,0x50,0x20,0x20,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x7E,0x5A, // g alt @183
  0x3E,0x22,0x1E,0x1A,0x3C,0x24,0x18,0x18,
  0x20,0x20,0x70,0x50,0x78,0x58,0x7C,0x44, // h alt @184
  0x7E,0x5A,0x7E,0x5A,0x7E,0x5A,0x24,0x24,
  0x08,0x08,0x1C,0x14,0x08,0x08,0x1C,0x14, // i alt @185
  0x1C,0x14,0x1C,0x14,0x1C,0x14,0x08,0x08,
  0x04,0x04,0x0E,0x0A,0x0E,0x0A,0x0E,0x0A, // j alt @186
  0x2E,0x2A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x20,0x20,0x70,0x50,0x78,0x58,0x7C,0x54, // k alt @187
  0x78,0x48,0x7C,0x54,0x7E,0x5A,0x24,0x24,
  0x10,0x10,0x38,0x28,0x38,0x28,0x38,0x28, // l alt @188
  0x38,0x28,0x38,0x28,0x3C,0x24,0x18,0x18,
  0x00,0x00,0x44,0x44,0xEE,0xAA,0xFE,0x92, // m alt @189
  0xFE,0xAA,0xFE,0xBA,0xEE,0xAA,0x44,0x44,
  0x00,0x00,0x28,0x28,0x7C,0x54,0x7E,0x4A, // n alt @190
  0x7E,0x5A,0x7E,0x5A,0x7E,0x5A,0x24,0x24,
  0x18,0x18,0x3C,0x24,0x7E,0x5A,0x7E,0x5A, // o alt @191
  0x7E,0x5A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x38,0x38,0x7C,0x44,0x7E,0x5A,0x7E,0x5A, // p alt @192
  0x7C,0x44,0x78,0x58,0x70,0x50,0x20,0x20,
  0x1C,0x1C,0x3E,0x22,0x7E,0x5A,0x7E,0x5A, // q alt @193
  0x3E,0x22,0x1E,0x1A,0x0E,0x0A,0x04,0x04,
  0x28,0x28,0x7C,0x54,0x7E,0x4A,0x74,0x54, // r alt @194
  0x70,0x50,0x70,0x50,0x70,0x50,0x20,0x20,
  0x18,0x18,0x3C,0x24,0x78,0x58,0x3C,0x24, // s alt @195
  0x3E,0x3A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x20,0x20,0x70,0x50,0x78,0x58,0x7C,0x44, // t alt @196
  0x7C,0x5C,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x00,0x00,0x24,0x24,0x7E,0x5A,0x7E,0x5A, // u alt @197
  0x7E,0x5A,0x7E,0x5A,0x3C,0x24,0x18,0x18,
  0x00,0x00,0x36,0x36,0x77,0x55,0x77,0x55, // v alt @198
  0x77,0x55,0x3E,0x2A,0x1C,0x14,0x08,0x08,
  0x00,0x00,0x22,0x22,0x77,0x55,0x7F,0x5D, // w alt @199
  0x7F,0x55,0x7F,0x49,0x77,0x55,0x22,0x22,
  0x00,0x00,0x22,0x22,0x77,0x55,0x3E,0x2A, // x alt @200
  0x1C,0x14,0x3E,0x2A,0x77,0x55,0x22,0x22,
  0x24,0x24,0x7E,0x5A,0x7E,0x5A,0x7E,0x5A, // y alt @201
  0x3E,0x22,0x3E,0x3A,0x7E,0x42,0x3C,0x3C,
  0x00,0x00,0x3E,0x3E,0x7F,0x41,0x3E,0x3A, // z alt @202
  0x1C,0x14,0x3E,0x2E,0x7F,0x41,0x3E,0x3E
};

void set_sprite_symbols()
{
   set_sprite_data(128, 75, symbols);
}

UINT8 cur_sprite;

void reset_sprites()
{
  cur_sprite = 0;
}

UINT8 alloc_sprites(UINT8 count)
{
  UINT8 r = cur_sprite;
  cur_sprite+=count;

  if (cur_sprite >= 40) // MAX_SPRITE_COUNT
  {
    cur_sprite = 0;
    return 0;    
  }
  
  return r;
}